<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  




<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Web," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Lydna | Lerning Responsive Design

Responsive Web Design -  Ethan Marcotte
Fluid Grid for flexible layouts
Media Queries to help you adapt content to specific screen sizes
Flexible Images and media t">
<meta property="og:type" content="article">
<meta property="og:title" content="Responsive Design">
<meta property="og:url" content="http://yoursite.com/2018/03/24/Responsive-Design/index.html">
<meta property="og:site_name" content="Zhuo Han">
<meta property="og:description" content="Lydna | Lerning Responsive Design

Responsive Web Design -  Ethan Marcotte
Fluid Grid for flexible layouts
Media Queries to help you adapt content to specific screen sizes
Flexible Images and media t">
<meta property="og:updated_time" content="2018-03-24T21:56:19.516Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Responsive Design">
<meta name="twitter:description" content="Lydna | Lerning Responsive Design

Responsive Web Design -  Ethan Marcotte
Fluid Grid for flexible layouts
Media Queries to help you adapt content to specific screen sizes
Flexible Images and media t">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Zoey'
    }
  };
</script>

  <title> Responsive Design | Zhuo Han </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-113008849-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?a03836ec239f375669ad8f7cb87ff77c";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Zhuo Han</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Responsive Design
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-03-24T14:55:11-07:00" content="2018-03-24">
              2018-03-24
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2018/03/24/Responsive-Design/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2018/03/24/Responsive-Design/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2018/03/24/Responsive-Design/" class="leancloud_visitors" data-flag-title="Responsive Design">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>Lydna | <a href="https://www.lynda.com/Web-Responsive-Design-tutorials/Welcome/104969/115611-4.html" target="_blank" rel="external">Lerning Responsive Design</a></p>
</blockquote>
<h5 id="Responsive-Web-Design-Ethan-Marcotte"><a href="#Responsive-Web-Design-Ethan-Marcotte" class="headerlink" title="Responsive Web Design -  Ethan Marcotte"></a>Responsive Web Design -  Ethan Marcotte</h5><ol>
<li>Fluid Grid for flexible layouts</li>
<li>Media Queries to help you adapt content to specific screen sizes</li>
<li>Flexible Images and media that respond to changes in screen sizes as well.</li>
</ol>
<ul>
<li><p>HTML: clean code, proper semantics HTMLs</p>
<p>CSS: media queries, fluid layout, transitions css graphics</p>
<p>JavaScript: resourse loading, adaptive media, device functionality</p>
</li>
</ul>
<h5 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h5><ul>
<li><p>viewport(have a minimum scaling factor) &gt; the screen’s resolution</p>
<p>Mobile browsers will display a web page within the viewport ans the shrink that viewport down until the content fits within the width of the screen itself.  While this usually results in tiny pages, it does allow the user to see the page in its entirety and decide which areas of the page they’d like to zoom up to, and read. </p>
<p>=&gt; how to control both the viewport size and its initial scale factor.</p>
</li>
<li><p>Controlling Viewports</p>
<ol>
<li><p>viewport meta tag <code>met name=&quot;viewport&quot; content=&quot;width=480, initial-scale=1&quot;&gt;</code></p>
</li>
<li><p>@viewport CSS rule <code>@viewport{width: 480px; zoom: 1;}</code></p>
<p>should be placed before media queries</p>
</li>
</ol>
<ul>
<li><p><strong>device width</strong>: instructs the browser to set the viewport to the exact size as the available screen pixels. </p>
<p>And the browser automatically sets initial scale to 100%.</p>
<p>In fact, on iOS devices, there’s a bug with initial scale that affects pages when the orientation changes, so many people advise leaving initial scale off entirely unless you need to set the value to something other than 100%.</p>
</li>
<li><p>zoom: 2, -&gt; 200%</p>
</li>
<li><p>control how much zoom</p>
<p>eg. <code>minimum-scale=1 maximum-scale=2</code> in tag, <code>min-zoom:1; max-zoom:2</code>in CSS. The user can scale up to 200% but can’t scale down pass 100%.</p>
<p>eg. <code>user-scalable=no</code> or <code>user-zoom:fixed;</code></p>
</li>
</ul>
</li>
<li><p>Screen density is the number of pixels within a physical area of a screen, and newer screens are featuring higher and higher screen densities every year</p>
<ol>
<li><p>hardware pixels</p>
<p>eg. Let’s say you had a line of text that was 30 pixels high on a lower-density screen. The same text mapped to the higher- density screen would now appear twice as <u>small</u>. </p>
</li>
<li><p>reference pixels - “CSS pixel”</p>
<p>eg. If you’ve specified that an element be 50 pixels wide, it might map to the first screen at exactly 50 pixels if the hardware and reference pixels were the same.<br>On a higher-density screen, however, the device would actually display the same element over 100 hardware pixels to ensure that it remains the same visual size.</p>
<ul>
<li>scaling factor - device-pixel-ratio, the ratio between reference pixels and hardware pixels</li>
</ul>
</li>
</ol>
</li>
<li><p>Designing for multiple screen densities</p>
<ul>
<li><p>Optimize graphics for higher-density displays - Reduce bitmap graphics</p>
<ol>
<li><p>SVG</p>
<p>Often larger than bitmaps</p>
<p>Graphics are redrawn with each screen change</p>
</li>
<li><p>CSS</p>
<p>Complex artwork is difficult</p>
<p>Often require non-semantic markup</p>
<p>Property support isn’t universal</p>
</li>
<li><p>use icon fonts</p>
</li>
</ol>
</li>
<li><p>Screen-density targeting option</p>
<ol>
<li><p>Don’t target screen, but use high-res graphocs where needed<br>issue1: Higher-resolution graphics are larger in size -&gt; some of your users to download larger images than they really need.<br>issue2: Not all screens use the same scaling factors -&gt; you’d have to account for the largest size needed, which again leads to unnecessary file sizes in most instances. </p>
</li>
<li><p>target</p>
<p> if you are targeting CSS background images, you can use media queries to target specific device-pixel-ratios. -&gt; JavaScript</p>
</li>
</ol>
</li>
</ul>
</li>
<li><p>Media Queries</p>
<p><code>@media [not | only] screen [and] (expression){}</code> in CSS</p>
<p><code>media=&quot;screen and (min-width: 480px), screen and (orientation: landscape)&quot;</code> in tag</p>
<p>modified: <code>@import url(example.css) screen and (max-width: 480px);</code></p>
</li>
<li><p>breakpoint: A breakpoint indicates the moment your layout switches from one layout to another, and is usually triggered by the width of a screen.</p>
<ol>
<li><code>@media only screen and (max-width: 480px){}</code> // mobile, eg. 480/16 = 30em</li>
<li><code>@media only screen and (min-width:481px) and (max-width: 768px){}</code> //tablet, 30em 48em</li>
<li><code>@media only screen and (min-width: 769px)</code> //desktop, 48em</li>
</ol>
<p>if use <code>em</code>, the width of the screen is set relative to the device’s font size.</p>
</li>
<li><p>Fluid grid</p>
<p>eg. Grid systems</p>
<p>downsides of frameworks: class-based, non-semantic, container/clearing elements, large in size/extra code</p>
</li>
<li><p>Making images responsive</p>
<ol>
<li><p>define with different @media </p>
<p>but, in <u>earlier versions of Android</u>, all of the CSS background images would be downloaded, not just the ones needed for the appropriate media query.</p>
</li>
<li><p>modify your .htaccess file, link to their responsive images JavaScript file, and add a query string on any image that requires a larger desktop version of that image.</p>
<p>but, more complex solution, JS parse slower load time(and often replacement images are requested after the original image is already downloaded.)</p>
<p>And that’s the evolution of browser prefetching: speed up load time, but may download elements that will be replaced. </p>
</li>
</ol>
<p>-&gt; </p>
<ol>
<li>WHTWQ: add a new attribute called <code>srcset</code>, eg. <code>&lt;img … src=&quot;&quot; srcset=&quot;1.png 800w, 2.png 600w&quot;&gt;</code><br>benefits: straight forward, uncluttered, no new html elements, backwards compatible</li>
<li>w3c: <code>&lt;picture&gt;&lt;source..&gt;&lt;source..&gt;&lt;img&gt;&lt;/picture&gt;</code><br>benefits: acts as parent for range of <img> elements. multiple source options with alternate images, image properties, and media queries. user agent selects matching images</li>
</ol>
</li>
<li><p>Responsive forms<br>start by considering the mobile context first<br>eg. use <code>&lt;label&gt;&lt;input.. placehold=&quot;balabala&quot; required=&quot;required&quot;&gt;&lt;/label&gt;</code><br>Makes submitting data easier, automates input when possible, and even combines form elements to require less input from the user. </p>
<ol>
<li>combile address into a single input ans use placeholder text to show format. </li>
<li>single dropdown menu instead of using a radio button grouping of multiple choices</li>
</ol>
</li>
<li><p>Performance</p>
<ul>
<li>Network connections, bandwidth speed, network latency</li>
<li>keep code lean<ol>
<li>use standards compliant code</li>
<li>elimicate extraneous markup</li>
<li>keep external scripts and styles lean and efficient</li>
</ol>
</li>
<li>limit requests<ol>
<li>eg. If you’re linking to multiple external scripts, try combining them into a single file.<br>Or tools: Filament Group’s QuickConcat, Enhance.js, which can combine files at runtime into single request.</li>
<li>Combine images and icons into sprites -&gt; use same images for multiple</li>
<li>Use data URI: allows you to embed images directly into your CSS without having to request the image from the server</li>
<li>Evaluate any external resource to make sure that you’re actually using them. </li>
<li>use a JavaScript library in one context but not the other.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h5 id="Responsice-Design-Strategies"><a href="#Responsice-Design-Strategies" class="headerlink" title="Responsice Design Strategies"></a>Responsice Design Strategies</h5><ul>
<li>Designing for the appropriate:  targeting the appropriate context in which the site will be used.</li>
<li>Planning a responsie design<br>develop a content strategy, think about breakpoints<br>tweak point -&gt; allow you to refine your designs throughout the scaling proces<br>device-specific functionality: geo location, instant messaging, touch sensitivity<br>layout considerations: plan out your navigation, creat consistent coding standards</li>
<li>Building responsive mockups</li>
<li>Developing a context strategy for responsive sites<br>goas: emphasize important content, make relationship clear, make it accessible on small screens<br>start with content -&gt; think about prioritize/purpose -&gt; generate a set of rules that govern how content should be displayed and shifted as screen sizes change</li>
<li>Understanding the mobile context</li>
<li>Designing for mobile capabilities<br>location, motion/accelerometer, built in compass, media, touch screen, phone</li>
<li>Creating flexible HTML<ol>
<li>write clean code</li>
<li>use html5 if possible</li>
<li>explore microformats</li>
<li>standards for each content area</li>
<li>creat smaller sections of content, reassess layout goals/scripting</li>
</ol>
</li>
<li>Testing responsive designs</li>
</ul>
<h5 id="Conclution"><a href="#Conclution" class="headerlink" title="Conclution"></a>Conclution</h5><ul>
<li><p>Fluid grid framework</p>
<ul>
<li>benefits:<br>speed up development<br>help keep code consistent<br>solid starting code base<br>can add unnecessary code<br>some require non-semantic code</li>
</ul>
</li>
</ul>
<ul>
<li>eg. Twitter’s Bootstrap: it’s a collection of HTML, CSS, and JavaScript that includes a fluid grid, starter layouts, UI components, and much, much more. </li>
<li>eg. Skeleton:  lightweight, includes a fluid grid, basic typography controls, and default styling for forms and buttons.</li>
</ul>
<ul>
<li>Responsice design tools</li>
</ul>

      
    </div>
    
    <div>
      
        
      
    </div>

    <div>
      
        
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Web/" rel="tag">#Web</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/03/22/X5-Interval-Sliding-Window/" rel="next" title="X5_Interval & Sliding Window">
                <i class="fa fa-chevron-left"></i> X5_Interval & Sliding Window
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/26/X6-DP-Knapsack/" rel="prev" title="X6_DP & Knapsack">
                X6_DP & Knapsack <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2018/03/24/Responsive-Design/"
           data-title="Responsive Design" data-url="http://yoursite.com/2018/03/24/Responsive-Design/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.JPG"
               alt="Zoey HAN" />
          <p class="site-author-name" itemprop="name">Zoey HAN</p>
          <p class="site-description motion-element" itemprop="description">CS | Web | Write | Music</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">28</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ZoeyeoZ" target="_blank" title="GitHub">
                  
                    <i class="fa fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/u/5139990830" target="_blank" title="Weibo">
                  
                    <i class="fa fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/zoey.hz" target="_blank" title="facebook">
                  
                    <i class="fa fa-facebook"></i>
                  
                  facebook
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.csdn.net/zoeyyeoz" target="_blank" title="csdn">
                  
                    <i class="fa fa-book"></i>
                  
                  csdn
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-5"><a class="nav-link" href="#Responsive-Web-Design-Ethan-Marcotte"><span class="nav-number">1.</span> <span class="nav-text">Responsive Web Design -  Ethan Marcotte</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Concepts"><span class="nav-number">2.</span> <span class="nav-text">Concepts</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Responsice-Design-Strategies"><span class="nav-number">3.</span> <span class="nav-text">Responsice Design Strategies</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Conclution"><span class="nav-number">4.</span> <span class="nav-text">Conclution</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zoey HAN</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"ZoeyeoZ"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';                
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });
                            
                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').mousedown(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("T1GdtjiH3C4zaGGuAfBXLIU9-gzGzoHsz", "E1lU2mO5DS4clhzdUCD45SXs");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

</body>
</html>
